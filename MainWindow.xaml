<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="LottieConverter.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:LottieConverter"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="LottieConverter">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Drag & Drop Zone -->
        <Grid x:Name="DropZone" 
              Grid.Row="0" 
              AllowDrop="True"
              DragOver="DropZone_DragOver"
              Drop="DropZone_Drop"
              Background="Transparent"
              HorizontalAlignment="Stretch" 
              VerticalAlignment="Stretch">
            
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="20">
                <FontIcon Glyph="&#xE896;" FontSize="64" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                <TextBlock Text="Drop Images or Video Here" 
                           Style="{StaticResource SubtitleTextBlockStyle}" 
                           HorizontalAlignment="Center"
                           Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                <TextBlock Text="Supports PNG, JPG, MP4" 
                           Style="{StaticResource CaptionTextBlockStyle}" 
                           HorizontalAlignment="Center" 
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            </StackPanel>
            
            <!-- Overlay for Drop Indication -->
            <Border x:Name="DropOverlay" 
                    Background="{ThemeResource LayerFillColorDefaultBrush}" 
                    Opacity="0" 
                    IsHitTestVisible="False"
                    CornerRadius="8"
                    Margin="20"
                    BorderBrush="{ThemeResource AccentTextFillColorPrimaryBrush}"
                    BorderThickness="2">
                <TextBlock Text="Drop to Convert" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center" 
                           Style="{StaticResource TitleTextBlockStyle}"/>
            </Border>
        </Grid>

        <!-- Settings & Status -->
        <StackPanel Grid.Row="1" Spacing="12" Padding="24" Background="{ThemeResource LayerFillColorDefaultBrush}">
             <Grid ColumnSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                
                <TextBox x:Name="FpsInput" Header="FPS" Text="30" PlaceholderText="30" Grid.Column="0"/>
                
                <ComboBox x:Name="ResolutionCombo" Header="Resolution" SelectedIndex="0" Grid.Column="1" HorizontalAlignment="Stretch">
                    <ComboBoxItem Content="Original" Tag="0,0"/>
                    <ComboBoxItem Content="1080p (1080x1080)" Tag="1080,1080"/>
                    <ComboBoxItem Content="2160p (2160x2160)" Tag="2160,2160"/>
                    <ComboBoxItem Content="512x512" Tag="512,512"/>
                </ComboBox>
                
                <Button x:Name="ConvertButton" Content="Convert" Style="{StaticResource AccentButtonStyle}" Grid.Column="2" VerticalAlignment="Bottom" Click="ConvertButton_Click" IsEnabled="False"/>
            </Grid>

            <ProgressBar x:Name="ConversionProgressBar" Maximum="100" Value="0" Visibility="Collapsed"/>
            <TextBlock x:Name="StatusText" Text="Ready" Style="{StaticResource BodyTextBlockStyle}" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
        </StackPanel>
    </Grid>
</Window>
